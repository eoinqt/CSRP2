<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scan Results - Fresh Eggs Scanner</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- Header Navigation -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <div class="nav-left">
                    <div class="hamburger-menu">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
                <div class="nav-right">
                    <a href="index.html" class="nav-btn btn-red">Home</a>
                    <a href="#contact" class="nav-btn">Contact</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <div class="hero-left">
                        <h1 class="hero-title">
                            Fresh <span class="text-yellow">Eggs</span>, the<br>
                            Better
                        </h1>
                        <p class="hero-description">
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                        </p>
                        <a href="#upload-section" onclick = "gotoindividualupload()" class="btn btn-red hero-cta">SCAN YOUR EGGS HERE</a>
                        <p class="click-here">Click here!</p>
                    </div>
                    <div class="hero-right">
                        <div class="yellow-circle"></div>
                        <div class="egg-bowl">
                            <div class="bowl-container">
                                <div class="bowl"></div>
                                <div class="eggs">
                                    <div class="egg"></div>
                                    <div class="egg"></div>
                                    <div class="egg"></div>
                                    <div class="egg"></div>
                                    <div class="egg"></div>
                                    <div class="egg"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Process Steps Section -->
        <section class="process-steps">
            <div class="container">
                <div class="steps-grid">
                    <div class="step">
                        <div class="step-icon yellow">1</div>
                        <h3 class="step-title">Upload<br>the Image<br>of the Eggs</h3>
                    </div>
                    <div class="step">
                        <div class="step-icon yellow">2</div>
                        <h3 class="step-title">Wait for the<br>Results</h3>
                    </div>
                    <div class="step">
                        <div class="step-icon green">3</div>
                        <h3 class="step-title">Results Are<br>Ready!</h3>
                    </div>
                </div>
            </div>
        </section>

        <!-- Uploaded Image Viewer Section -->
        <section class="image-viewer-section">
            <div class="container">
                <h2 class="section-title">Scanned Image</h2>
                <div class="image-viewer">
                    <div class="image-container">
                        <img src="https://via.placeholder.com/400x400/4CAF50/000000?text=Single+Egg+Scan" 
                             alt="Uploaded single egg scan" 
                             class="scanned-image" 
                             id="scannedImage">
                        <div class="image-overlay">
                            <button class="zoom-btn" onclick="openImageModal()">üîç View Full Size</button>
                        </div>
                    </div>
                    <p class="image-caption">Your uploaded single egg image with scan result</p>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section class="results-section">
            <div class="container">
                <div class="results-container">
                    <h2 class="results-header">RESULTS COMPLETE</h2>
                    
                    <div class="result-status">
                        <div class="status-label fresh-status">FRESH</div>
                    </div>
                    
                    <div class="result-metrics">
                        <div class="metric">
                            <span class="metric-label">YOLK:</span>
                            <span class="metric-value">90%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">EGG WHITE</span>
                            <span class="metric-value">95%</span>
                        </div>
                    </div>
                    
                    <div class="scan-another-result">
                        <a href="#upload-section" onclick= "gotoindividualupload()" class="btn btn-red">
                            SCAN ANOTHER EGG! 
                            <span class="arrow">‚Üí</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        
        <!-- Guidelines and other sections -->
        <section class="guidelines">
            <div class="container">
                <!-- Guidelines for Single Egg -->
                <div class="guideline-section">
                    <div class="guideline-header yellow">Guidelines for Single Egg</div>
                    <div class="guideline-content">
                        <ol>
                            <li>Go to a shaded/dark area (the darker it is, the better)</li>
                            <li>Place Egg on top of source of light (flashlight, Camera light, etc.)</li>
                            <li>Take a picture of the top view of the light-reflected egg</li>
                            <li>Upload the egg to know the Results</li>
                        </ol>
                    </div>
                </div>

                <!-- Guidelines for Egg Scanning by Batch -->
                <div class="guideline-section">
                    <div class="guideline-header yellow">Guidelines for Egg Scanning by Batch</div>
                    <div class="guideline-content">
                        <ol>
                            <li>Go to a shaded/dark area (the darker it is, the better)</li>
                            <li>Prepare your DIY Egg Carton with Lights (how to do this is in the DIY instructions)</li>
                            <li>Place the eggs on the DIY Egg Carton</li>
                            <li>Take a picture of the top view of the light-reflected eggs</li>
                            <li>Upload the picture to know the Results</li>
                        </ol>
                    </div>
                </div>


            </div>
        </section>

        <!-- DIY Section -->
        <section class="diy-section">
            <div class="container">
                <h2 class="diy-title">DIY Egg Carton with Lights</h2>
                
                <div class="instructions-box">
                    <div class="instructions-header">Instructions</div>
                    <div class="instructions-content">
                        <ol>
                            <li>Get an egg carton and some candles (1-3 pcs.)</li>
                            <li>Prepare your DIY Egg Carton with Lights (how to do this is in the DIY instructions)</li>
                            <li>Light the candles</li>
                        </ol>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <!-- Footer content can be added here if needed -->
            </div>
        </footer>
    </main>

    <!-- Image Modal -->
    <div id="imageModal" class="image-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeImageModal()">&times;</span>
            <img id="modalImage" class="modal-image" alt="Full size scanned image">
            <div class="modal-caption">
                <p>Full size view of your single egg scan</p>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Image modal functionality
        function openImageModal() {
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const scannedImage = document.getElementById('scannedImage');
            
            modal.style.display = 'block';
            modalImage.src = scannedImage.src;
            modalImage.alt = scannedImage.alt;
            
            // Prevent body scrolling when modal is open
            document.body.style.overflow = 'hidden';
        }

        function closeImageModal() {
            const modal = document.getElementById('imageModal');
            modal.style.display = 'none';
            
            // Restore body scrolling
            document.body.style.overflow = 'auto';
        }

        // Close modal when clicking outside the image
        document.getElementById('imageModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeImageModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeImageModal();
            }
        });

        // Load uploaded image and results
        document.addEventListener('DOMContentLoaded', function() {
            // Load the uploaded image
            const uploadedImageUrl = localStorage.getItem('uploadedIndividualImage') ||
                'https://via.placeholder.com/400x400/4CAF50/000000?text=Single+Egg+Scan';

            document.getElementById('scannedImage').src = uploadedImageUrl;

            // Load and display prediction results
            const results = localStorage.getItem('eggQualityResults');
            if (results) {
                const resultData = JSON.parse(results);
                displayResults(resultData);
            }
        });
        function gotoindividualupload(){
            window.location.href = 'individual-upload.html';
        }
        // Function to display prediction results
        function displayResults(result) {
            // Update status label
            const statusLabel = document.querySelector('.status-label');
            statusLabel.textContent = result.quality;
            statusLabel.className = 'status-label';

            if (result.quality === 'GOOD') {
                statusLabel.classList.add('fresh-status');
            } else if (result.quality === 'MEDIUM') {
                statusLabel.classList.add('medium-status');
            } else {
                statusLabel.classList.add('bad-status');
            }

            // Update metrics
            const yolkMetric = document.querySelector('.metric-value');
            const whiteMetric = document.querySelectorAll('.metric-value')[1];

            yolkMetric.textContent = result.yolk_score + '%';
            whiteMetric.textContent = result.white_score + '%';
        }
    </script>
</body>
</html>